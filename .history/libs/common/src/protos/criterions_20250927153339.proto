syntax = "proto3";

package criterions;

service CriterionsService {
  rpc CreateCriterion(CreateCriterionRequest) returns (CriterionResponse);
  rpc DeleteCriterion(DeleteCriterionRequest) returns (CriterionResponse);
  rpc EditCriterion(EditCriterionRequest) returns (CriterionResponse);
  rpc ListCriterions(ListCriterionsRequest) returns (ListCriterionsResponse);
}

message CreateCriterionRequest {
  int32 event_id = 1;
  string name = 2;
  optional string description = 3;
  double weight = 4;
  bool active = 5;
}

message DeleteCriterionRequest {
  int32 id = 1;
}

message EditCriterionRequest {
  int32 id = 1;
  optional string name = 2;
  optional string description = 3;
  optional double weight = 4;
  optional bool active = 5;
  repeated int32 courses_to_add = 6;
  repeated int32 courses_to_remove = 7;
}

message Criterion {
  int32 id = 1;
  int32 event_id = 2;
  string name = 3;
  optional string description = 4;
  double weight = 5;
  bool active = 6;
}

message ListCriterionsRequest {
  optional int32 event_id = 1;
  optional int32 course_id = 2;
}

message ListCriterionsResponse {
  bool success = 1;
  repeated Criterion data = 2;
  string message = 3;
}

message CriterionResponse {
  bool success = 1;
  optional Criterion data = 2;
  string message = 3;
}